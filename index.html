<meta charset="utf8">
<link rel="stylesheet" href="https://heiskr.com/drab.css/css/drab.min.css">

<h1>kevin's naive generator</h1>
<form><input name="seed" placeholder="seed" /><input type="submit" /></form>
<button id="play">Play</button>
<pre style="font-size: 1rem;line-height:1.3" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.38/Tone.js"></script>
<script src="generate.js"></script>
<script src="play.js"></script>
<script>
  try {
    const [seed, sequence, format] = main(new URLSearchParams(location.search).get('seed'))
    document.querySelector('[name="seed"]').value = seed
    document.querySelector('pre').innerHTML = format
    document.getElementById('play').addEventListener('click', () => {
      play(sequence)
    })
  } catch (e) {
    alert('error. refresh.')
    console.error(e)
  }
</script>
